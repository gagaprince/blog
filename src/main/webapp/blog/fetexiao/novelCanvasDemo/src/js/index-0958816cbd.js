!function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){i(1)},function(t,e,i){"use strict";var r=i(2);window.onload=function(){var t=$(window).height(),e=$(window).width(),i=window.devicePixelRatio,n="　　今天的上午，有一堂大师的课。学院的三大美女大师之一，高阶符师林语将要给八百多名符师试修生上一堂课，陈雷记得在课单上写的是：《符师引灵初析》。<br/>　　陈雷来到银圣龙这么久，还没见过林语，听说她长的粉面桃花，身材纤美，是一个典型的东方美人。<br/>　　陈雷穿着一件蓝色的符师试修袍，两手空空的就来到了一个大型讲演堂，进门一看，傻眼了，整个能容纳一千多人的大型讲演堂，全是黑压压的人头，学生们一个紧挨着一个而坐，保守估计来听课的学生最少有二千人。<br/>　　陈雷摇了摇头，不明白为什么有这么多人，当然他知道有很多不是符师分院，或者不是符师试修生的也跑来了，他是不明白为什么那些人要跑过来，美女大师就如此大的亲和力吗？他还以为来得算早的，没想到连一个坐位都没了，不，是半个座位都没有了，最后的一一排，最靠边的一个位置，两个大男人，很辛苦地挤在一起。<br/>　　讲演堂坐席的分布采用的是半月型，在讲台的两边都有两组月尖型坐位，当然今天看来最前面的，与两个月尖上的座位是最好的，看那些同学春风得意的样子就知道了。<br/>　　陈雷不想跟陌生的同学挤在一起，再说也很难挤得进去，看了看八个巨大的窗户，走到中间的一个跳了上去，惊喜的发现内里的窗台挺宽的，坐上去有种高高在上的优越感。<br/>　　但陈雷这一坐，他自己倒没感觉什么，讲演堂中无数双目光却是立即向他看来。有惊讶、有好笑、有担忧、也有愤怒的。<br/>　　“那个同学，你快点下来，你这样是对林大师的不敬。”有人怒指陈雷大叫。<br/>　　陈雷只当没听到，心想，吼什么吼，有座位我还不知道坐吗？你以为我想坐在这里，这么多人看着，羞也羞死了。<br/>　　也有认识陈雷的同班同学，娇声大喊：“陈雷，你快下来啦，到我们这里来坐嘛。”<br/>　　陈雷一看，在讲演堂的中间，一个胖胖的女生，挥动着白嫩的小手直摇，在她的两旁，全是班上的女生，有几个长得相当不错，此时都带着羞喜的表情看着他……也许她们在想，如果陈雷过来，会选在谁的身边坐下来呢？<br/>　　其实陈雷跟班上的所有女生都不熟，这是一个很难得的，现场气氛制造出的一个机会，那胖胖的女生虽然明显是在开玩笑，但如果陈雷此时走过去，十有八九女生们会让出一个位给他，那么不熟也就熟了，弄不好还会擦出爱情的火花。<br/>　　但陈雷把窗户抓得更紧了，头直摇：“不要，我怕！”<br/>　　满堂哄然大笑，原来满堂弥漫的色狼气息，被冲淡了许多，也让大家都记得了陈雷这个名字。<br/>　　当然一大半的同学们还是担心陈雷，林语大师如果来了，他还坐在窗户上，那会什么样的后果呢？<br/>　　于是，有心好的同学，还在叫：“陈雷，快下来，你不会是院长大人的亲戚吧？估计就是院长大人的亲戚也没用啊，快下来。”<br/>　　但陈雷听若不闻……<br/>　　“真是大胆！”有同学轻蔑地扫了陈雷一眼，就等着看等下林语大师来了，陈雷的凄惨下场……不过林语大师会因此大怒吗？<br/>　　不久，上课的时间到了，满堂忽然一静，门口身影一现，一个身穿青色素裙，脚下穿着白色软布鞋的年青女子，缓缓走上讲台……<br/>　　立时所有的目光都被引上讲台，再当千双目光下意识地一看那窗户时，那个陈雷不见了，他们再看，晕！<br/>　　不知什么时候，陈雷已是跳下了窗台，正一脸肃穆地站着笔直，手里还拿着一个本本和笔，看上去比谁都要认真虔诚。<br/>　　“％￥％……”同学们心里不由直咒骂，感觉集体的被这个陈雷耍了一回。<br/>　　同学们的奇怪行为，也让林语困惑了一下，目光扫向站在窗户边听课的陈雷，但她没去管到底发生了什么事：“这堂课，我跟大家讲讲引灵相关的个人体会，和一些引灵方面的小窍门，大家都知道，一个符师的源灵力大小，就像魔法师的魔力一样，对符师的成就，起着至关重要的作用，一个符师在拥有了一些源灵力之后，在制作符卷之时，引灵的方法也是非常重要的，人体之内，即便源灵力再强大，也是有限的，在我们周围，看不到的空间之中，存在着大量的灵力，而空间之中特殊的，或是高级的灵力，便是制作高阶符文所必须的能源，源灵力与引灵诀，就像一个重剑士的力量与技巧的关系，光有力量没有技巧，会显得笨拙，而光有技巧没有力量，那是空有其表……”<br/>　　林语大师的讲课，讲的行云流水，虽然没有什么很特别的授课技巧，但是她的声音却是如凤凰的鸣唱一般的动听，即便内容再枯燥，也会让人听得入迷。<br/>　　何况，她讲演的内容一点也不枯燥。<br/>　　当进入到核心内容之时，学生们大气都不敢出了，这时，林语大师道：“现在我传授大家一个我个人改良的，符师最基本，但也是随着符师的成长而成长，守护符师一生的符术引灵诀，这道符卷相信大家都知道是什么符卷了，大家一起说，牠叫什么？”<br/>　　学生们齐声回答：“符神守护！”<br/>　　“不错！牠就是符神守护，是我们符师保命的不二法门，但关于牠的引灵诀，却是已知的就多到有一百多种，我且不论这些引灵诀的高低好坏，在这里我只传授大家，我个人最喜欢，也常用的一道符神守护的引灵诀。”<br/>　　接着，林语飞快地在黑板上写下一个奇怪的字体，又是一个，很快，几串极捐秀极好看的字符写在了黑板之上。<br/>　　同学们当然紧急记录，<br/>　　“大家跟我一起默念，不要发出声音来。”林语一根春葱般的玉指指向第一个字符：“这个字符念……”<br/>　　接着，林语又指向第二个字符：“这个字符念……”<br/>　　林语把一串字符的发音依次念了一遍之后，转身目光一扫：“有谁能够有把握，把刚刚我教的这串字符的准确发音重复一遍？”<br/>　　二千多名学生，一个举手的都没有……开玩笑，总共二百多个字符，而且大都是一些极其怪异绕口的发音，谁有那么强大的记忆力和灵活的口舌，能把这二百多个字符的准确发音，一字不拉的说出来？<br/>　　林语笑了笑，刚刚有些冷淡的容颜，突然像融化了一般，霎时露出少女才有的狡黠风情，冰清的眼眸之中都有了一些坏坏的笑意……<br/>　　“真的没有人能够重复一遍吗？洗白衣你来。”<br/>　　底下洗白衣一惊，不得不站了起来，努力地搜索着刚刚的记忆，但不久，他的冷汗就下来了，如果说是听一遍几百字的文章，不，就是一万字的文章，他都能够立即倒背下来，可是这个引灵诀，他有把握的只是前二十来个字符。因为这些字符一个个很难念准，当思索前一个的时候，就会忘了后一个的发音。<br/>　　不过，很快洗白衣的眼神就从慌乱中恢复了镇定，他深深地看了台上的林语一眼：“大师，我不能。”<br/>　　洗白衣这话竟然说的有些傲气。<br/>　　说实话，林语挺喜爱洗白衣的这样的学生，基本上符师分院的几位大师，包括从云都幻城来援教的“洞天神师”，都十分的看好洗白衣，在几天前洞天神师也单独地招见了洗白衣一次，这洗白衣在符术之上，有着令他们惊讶的天赋。<br/>　　其实林语怎么会在这么多人的面前，特别是还有非符师生的学生面前，公布这道她引以自傲的引灵诀？她这么做的目的是想引发学生的兴趣，并引申到她的下一个讲演的重点：一个符师如何尽快地把握和领悟一道引灵诀。<br/>　　但也在此时，她也想看看，几位大师们一致认同的本届最有潜质的洗白衣，是不是优秀到可以仅听一遍，就能把这道引灵诀背下来。<br/>　　这里面当然有故意作弄在座全体学生的成份。<br/>　　“好，洗白衣同学，你坐下，还有没有人能够自认全部背下来的，不，只需要背下来一半也可以，我会有奖励的。”<br/>　　哄！地一声，男同学们被林语这句“我会有奖励的”引得热血沸腾，但是心有余而力不足啊，一时男同学们什么样的心都有了。<br/>　　林语觉得效果差不多了，正想引入自己要讲的重点之时，目光无意中一扫，忽然就停在了一名学生的脸上……<br/>　　是那个站在窗户下听课的男生。<br/>　　她甚至不知道他叫什么名字，但是她竟然在他眼睛里看到了一些震惊的东西，似笑非笑，还有一丝不屑。<br/>　　……<br/>　　陈雷是有点不屑，因为他猜到了老师的意图，但是她就这么有把握地认为，全课堂上二千多名学生，没有一人可以背下她刚刚念出的引灵诀，在她眼中，洗白衣办不到的事，别的学生就办不到吗？<br/>　　不过，陈雷知道这个风头是万万出不得的，何况自己的源灵力是那样的低微，以他很业余的符师水平，记住了也白记，此时在这里卖弄强大的记忆力，只会引来更大笑话。<br/>　　只是陈雷虽然不想去出这个风头，心里终归有些好笑，不知不觉中眼神里也流露了一些，他也没想到林语会那么的敏感。<br/>　　林语顿住了，心里真的惊讶之极，但她也不能完全肯定，这位男生眼睛里透露的就是那个意思，另外她真的不能相信，他能够只听一遍，就能背下整道引灵诀？那这样的学生太可怕了，日后还有什么他学不会的符文？<br/>　　十几秒的时间里，林语就僵在讲台之上，最终她还是忍不住地一点陈雷：“那位同学，你能背得下吗？”<br/>　　陈雷毫不犹豫的摇头。人一生中真的要说很多次慌，因为有时真的不能说实话。<br/>　　“你叫什么名字？”<br/>　　“陈雷。”这次是满课堂最少有几百人一起帮陈雷回答。<br/>　　这倒不是说陈雷的名气有多响亮，而是全课堂的学生们，很多只觉陈雷是个有趣的家伙，这家伙挺逗的，逗人还不带一丝烟气，从窗子上爬上爬下的动作，也利落的像只猴子。<br/>　　但林语不知道啊，她还以为陈雷在同学们心目中的名气很大，进一步加剧了她心里的怀疑。<br/>　　又隔了好一会，林语这才恢复了平静的心情，深深地吸了一口气，开始论述一个符师，该如何修正心态，努力地排除各种各样的杂念，以及用何种方式，提高心境的明净，以达到过目不忘，心境灵静的一个上剩的，优秀的符师需要的精神境界。<br/>　　这一堂课的后半节，林语上的比平常大失水准，草草地便结束了这堂课。<br/>　　林语的“符师引灵初析”还没有讲完，她将在下个星期继续讲解这个课题。<br/>　　而这堂课对于陈雷来说，却是具有旅程杯意义的，他算是第一次接触到了符文的核心秘密，学会了第一个引灵诀，这意味着他具备了制作一道符文的最基本的条件。而符文的五大要素就是：源灵力、符卷、符体、引灵诀和施法源咒，关于施法源咒这一关，是相对比较容易的，一个符师在成功制作一道符文之后，会与符文有互相的感应，就像母亲与自己的孩子一样，有时施法原咒可以凭感应直接悟出。<br/>　　也因此，一个符师的成长，是极其艰难的，本身各种种类的符文就多如繁星，再加上每一道符卷的成功制作，都需要引灵诀，而一般的引灵诀，都要老师亲传密授，一般的情况下，一道引灵诀从接触到完全把握，没有一个月的时间，没有老师的不断纠正，是无法学会的。如果要达到深层次的理解，往往是几年后甚至是十几年后的事情。<br/>　　这样对于学生来说就出现了一个极大的前行中的障碍，如果得不到老师的青睐，得不到老师的不厌其烦的指导，又如何能够把握好一道引灵诀？更何况，学生绝不可能只学一道符术，而是最少需要学会一个系统的，攻防一体的符术。<br/>　　对于符师来说，也当然是掌握的符术越多越好，越高级的越好。<br/>　　而这还仅仅只是掌握引灵诀的困难，其他的源灵力的提升，从低级到高级的昂贵符卷、符笔，从低阶到高阶神秘的符体的领悟掌握，以及符师的辅助技能都缺一不可。<br/>　　关于符师的辅助技能，一般的业余符师，就无所谓了，但像银圣龙里的这些未来的职业符师，就必须要有一项针对性的辅助技能，在这一点上，符师与魔法师有很大的区别。<br/>　　其实，一般符师都要或多或少地会学习一些剑术，符师在分类上也分成“攻符”与“防符”，所谓“攻符”，那就是以攻击性为主的符师，而“攻符”就必须在符文之术的基础上，练成一套与本身符术相辅相成的剑法、拳法、或是最少也要有敏捷点身手。<br/>　　最近，在月神大陆和中央王国，很多年青的符师，忽然刮起一股使用木锤配合符术攻击的，战斗组合术。<br/>　　在银圣龙，也有不少的符师正式生，练起了大木锤，看上去非常搞笑，但就像有人说的那样，存在就是合理，既然有人使用木锤来配合符术来进攻和防守，那么一定有他其中的道理。<br/>　　不过，事实上，真正的凶悍“攻符”，少之又少，因为很简单的一个道理，符师不可能像剑师那样，专精剑术。而本身一名符师光学习各种各样的符文之术，就足够他焦头烂额的，又如何有精力，用大量的时间锻炼出强壮敏捷的身体？<br/>　　一般情况下，符师的体质就算比魔法师强，那也强不了多少。所以，既使很多符师，都配了剑，带了杖，甚至拿着一把老大、吓死人的，却其实没有多少斤两的大木锤，实际上他还是“防符”。<br/>　　有人统计过，一百个符师里面，大约有九十个是“防符”，拿木锤的也都是“防符”，当然拿大铁锤的符师，那一定是“攻符”了。<br/>　　很显然，陈雷是一名“攻符”，前提是如果他能够成为一名符师的话。<br/>　　因为陈雷同学之前就是一名有了一定实力的剑手，他是半道出家的，不成为“攻符”都难。而洗白衣也显然是一名“攻符”，洗白衣应是从小就“符剑”双xiu，才会有现在的成就，他的符文与剑法都一样的厉害。<br/>　　再说陈雷暗中学会了林语大师的符神守护的引灵诀，他不禁有些心痒难挠的感觉，这一天，走在路上都不停地默默颂念那道引灵诀。<br/>　　不过陈雷很失望地发现，什么感觉都没有，周围没有灵力汇集的迹象，感觉上也没有任何的不同。<br/>　　他很郁闷，下午干脆便在宿舍中琢磨，琢磨来琢磨去，还是感到自己可能是源灵力太弱小了，导致引灵诀发挥不了作用，但如果真是源灵力过于弱小，他就没办法了，只有先把源灵力修炼好。<br/>　　在之前的一个月里，陈雷也学到了很多符术的基础，如符师修炼灵力的基本方法，但那都是大众化的方法，是三位辅教辅导的，也有一些是在书中看来的，都不是什么绝密修炼之法。<br/>　　陈雷就是用脚趾想，也知道三位辅教不会把里面真正的精髓教给自己，再说，就那三位辅教，比如林芳达，不是说陈雷看不起他，而是怎么看，怎么观察，都感觉不到林芳达像是一个高明、无私的符师，仅有的感觉就是，那是一个披着高贵符师外衣的小人。<br/>　　陈雷宁愿跑到学院的藏书楼里去看书，也不喜欢在修习室中，接受三位辅教的指导，他们三个讲的东西藏书楼中的书籍里面都有，反而藏书楼那些大众性的符文书里面，也有一些很妙，很实在的理论，这是三位辅教绝对说不来的。<br/>　　也因此，除了班上的重大活动，主辅大人再三交代非去不可，一般情况下陈雷是绝对不会去班里的，陈雷在学院的主要活动场所，就是藏书楼、“难民营”，过着两点一线的生活。<br/>　　但现在，陈雷迫切地感到了提高源灵力的重要性，心里面好像有一百只蚂蚁在爬似的……<br/>　　想了好久，陈雷忽然大大地叹了一口气，心里明静下来，他想这样的急功近利，对于提高源灵力是一点帮助也没有的。<br/>　　想想，他只好又叹了一口气，心道：“那就一切看天意了。”<br/>　　想清楚之后，陈雷这才又一身轻松起来，夜色快要来临之时，悠然地走向学院的藏书楼。<br/>　　林语直到坐马车，离开学院回自己在碧水城的家，还会不自然地想起那双眼睛，就在出了校门的那一刹那，她竟然感谢到自己有些后悔，后悔没有去问那个叫陈雷的男生，是哪一个班的学生……<br/>　　当然一位美丽的、被人关注的老师，一般情况下，都会避免单独约见男学生，可是……坐在马车中，望了望自己伸直的两条纤秀笔直的腿儿，以及那一双奶白色轻便鞋子，陈雷的眼神还在她脑海晃动，并且有越来越成为折磨她的因素。<br/>　　林语长长的呼了一口气，想起自己第一次看到洗白衣时的那种惊讶，这个男生竟然长得那般的秀气，若不是他身材较高，眉毛较浓，再加上他隐约流露的一股子的不知是自信，还是坚韧的气质，她一定会以为他是女生。<br/>　　更令她惊讶的是，这男生一出手就是四道符卷，符师在施法时，符卷的出击速度也是相当的重要的，就像剑师的拨剑速度一样，然而她针对性的苦练了那么多年，她记得好像是从五岁开始，现在也只不过八道符卷，然而他竟然现在就可以一下子抽出四道。<br/>　　符师抽出符卷的动作，叫祭符，是很有讲究的，并不是说抽出一把，就叫成功，而是必须为一下步施法，提供最佳的条件，一般是以两根手夹着一道符卷，但在必要的时候，如在面临极度的危险的时候，就可以一下抽出几张符卷，以缩短连续使出几道符术的施法时间，有时是同时使出一种符，以达到叠加那种符的威力，但同时施出一种符，对于符师的灵力是一个极大的考验，威力强大的符文，也不允许符师能够同时施出一种符文，有很高的机率会对符师造成反噬。<br/>　　另外祭出以后，每张符卷都必须隔着一定的距离，并且在高速施法之时，施法人要有强大的施法技巧，不然同时祭出几张符卷，也只是一个好看不好用的花招，搞不好还会延长施法的时间。<br/>　　但是洗白衣做到了，四道符卷一道接一道地施展而出，看上去没有什么停顿的空隙，动作潇洒漂亮，干净利落，连她也小小的被迷醉了一下。<br/>　　那时她几乎认为，除了洗白衣之外，学院里再也没有更厉害的符师学生了，包括那些在学院里呆了几年的老生。<br/>　　再想到那个传说，她从此对洗白衣有较高的关注，她希望如果真有那么一回事，幸运之神会再次降临到符师界，而不是魔法师或剑师界。<br/>　　可惜她发现洗白衣修的是火系符术，而她是雷系的符师，未来洗白衣必不会在她的门下。<br/>　　可是今天却出了那么一个奇怪的男生，看上去求学之心如饥似渴，竟是就那样站着听课，而且整整站了一个上午，一般学生真的做不到，当然她也感到他似乎不像表面上的那般诚实好学，好几次都让她产生一种看到一个极是顽皮，极是会捉弄人的小孩的错觉。<br/>　　再说，她林语又不是那种古板不化的老太婆，对于一些学生的整蛊搞怪见的多了，当时在没抓到陈雷的把柄的情况下，也就没有计较了，不然……哼哼！老师是那么好捉弄的吗？<br/>　　但她怎么也没想到，仅仅只是一个眼神，就让她心里产生极度震惊的联想……<br/>　　真的是自己多心了吗？<br/>　　还是这个世界上真的有优秀到那种地步的学生？<br/>　　因为制作符卷的引灵诀，其实就是复杂的咒语，要记住一串长长的引灵诀，不仅仅是记忆力的强大就能够做到的，那里面还有一些不能用语言来解释的东西，也就是说，光凭记忆，是永远也读不准确的，而差之毫厘，一定是失之千里。<br/>　　而那不能用语来解释的东西，在符师界有一种说法，这说法就是：“空灵之性。”<br/>　　拥有空灵之性的人，才能在老师传授引灵诀时，不仅仅能快速记下引灵诀的基本发音，还能准确地捕捉到老师的心里暗示，与老师的心灵发生共鸣，这样才能真正极快地领悟一道引灵诀。<br/>　　要不，那只能让老师一遍又一遍地跟学生讲解，或是让学生自己去苦思冥想。<br/>　　林语以前觉的洗白衣的空灵之性已经是少有的，但如果这个陈雷真有那么厉害的话，无疑，陈雷的空灵之性，要比洗白衣强大几倍。<br/>　　而空灵之性，也像神圣斗气一样，极少数人天生拥有，但大多数人想要拥有，就必须在后天经过极刻苦的磨练和自律才能拥有。林语在白天的时候，讲课的内容里面，就涉及到了一些如何修习空灵之性的指导，但她当时并没有提起“空灵之性”这四个字。<br/>　　她只知道如果学生认真听了，并认真去实践的话，那对学生一定是有极大的好处的，她记得在云都幻城之时，师傅曾很严肃的对她说，要保持和提升空灵之性，最好的办法是：洁身自爱，不要过多地涉及男女情爱，也不要过多的贪图名利，心境最好是像一个婴儿那样纯静。<br/>　　最后，她师傅道：“妳还要慎记住这一点，不要犯下嗔念，当一个人认为他已经修到了最强的空灵之性的时候，其实他已经回到了从前的低境界。不要有那种想法，那是嗔念！这也为什么我们很多刻苦的同修，境界还不如那些屡犯门规的人的原因。妳记住，法非法，境非境，空灵之性是自然而成的。”<br/>　　回想起师傅说的话，林语彷徨起来，其实她自己也一直想着如何去提高空灵之性，但这空灵之性与符术的高低却没有太大的关系，不是符师也可能拥有空灵之性。但牠又会反过来会影响一位符师的成就，她自认这些年已经很刻苦了很自律了，但是增长的只是符术，空灵之性却没见有多少提高。<br/>　　她想，难道是自己还不够自然随性？那么那个陈雷如果真有那么强的空灵之性，他又是怎么磨练出来的，还是这位同学天生就有惊人的空灵之性？<br/>　　起点中文网 www.qidian.com 欢迎广大书友光临阅读，最新、最快、最火的连载作品尽在起点原创！";r.init({width:e,height:t,bgUrl:"http://pic.qiantucdn.com/58pic/20/11/30/575554b1ed6db_1024.jpg",fontSize:16*i,lineHeight:28*i,scale:i,fontColor:"#123456",turnType:1,rect:{top:10,bottom:25,left:20,right:15},pullData:function(t,e){t>=0&&setTimeout(function(){e(n)})}})}},function(t,e,i){var r;!function(n,a){var s=a();r=function(){return s}.call(e,i,e,t),!(void 0!==r&&(t.exports=r)),window.NovelCanvas=s}("undefined"!=typeof window?window:this,function(){"use strict";var t=i(3),e=i(10),r=i(12),n=null,a={canvasFrame:null,canvas:null,options:{width:375,height:600,bgUrl:null,scale:1,lineHeight:20,rect:{}},init:function(t){$.extend(this.options,t),this.initDom(),this.initCanvas(),this.initArtProvider()},initDom:function(){this.canvasFrame=$("#novelCanvasFrame"),this.canvas=this.canvasFrame.find("canvas")},initCanvas:function(){this.canvas.css({width:this.options.width+"px",height:this.options.height+"px"}),this.canvas.attr("width",this.options.width*this.options.scale),this.canvas.attr("height",this.options.height*this.options.scale),n=2==this.options.turnType?new e(this.canvas,this.options):new t(this.canvas,this.options)},initArtProvider:function(){var t=this.options.pullData;r=new r({needArtByIndex:t,initIndex:0,initReady:function(){console.log("artProvider ready"),setTimeout(function(){n.drawArt(r)})}})},next:function(){n.drawNextPage()},pre:function(){n.drawPrePage()}};return{init:function(t){a.init(t)},next:function(){a.next()},pre:function(){a.pre()}}})},function(t,e,i){"use strict";var r,n,a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,10)}}(),s=i(4),h=s.extend({turnLock:!1,init:function(t,e){this._super(t,e),this.initListener()},drawNextPage:function(t){if(!this.turnLock){var e=this.currentTextArt,i=e.getCurrentPage(),r=e.getNextPage();i==r?this.drawPage(r):null!=r&&this.startNormalTurnPage(i,r,!0,t)}},drawPrePage:function(t){if(!this.turnLock){var e=this.currentTextArt,i=e.getCurrentPage(),r=e.getPrePage();i==r?this.drawPage(r):null!=r&&this.startNormalTurnPage(r,i,!1,t)}},startNormalTurnPage:function(t,e,i,n){if(!this.turnLock)if(this.turnLock=!0,i){var a=n||0;r=(new Date).getTime(),this.turnNextPage(t,e,a)}else{var a=n||-this.width;this.turnPrePage(t,e,a)}},turnNextPage:function(t,e,i){if(this.drawPage(e),i<-this.width){var s=this.currentTextArt;s.movePage(1),this.turnLock=!1,n=(new Date).getTime(),console.log("耗时："+(n-r))}else{this.drawPage(t,i);var h=this;a(function(){h.turnNextPage(t,e,i-80)})}},turnPrePage:function(t,e,i){if(this.drawPage(e),i>0){this.drawPage(t);var r=this.currentTextArt;r.movePage(-1),this.turnLock=!1}else{this.drawPage(t,i);var n=this;a(function(){n.turnPrePage(t,e,i+80)})}},dragNextPage:function(t){var e=this.currentTextArt,i=e.getCurrentPage(),r=e.getNextPage();null!=r&&(this.drawPage(r),this.drawPage(i,t))},dragPrePage:function(t){var e=this.currentTextArt,i=e.getCurrentPage(),r=e.getPrePage();null!=r&&(this.drawPage(i),this.drawPage(r,t))},initListener:function(){var t=this.canvas,e=this,i={},r={},n={},a=!0,s=!0;t.addEventListener("touchstart",function(t){var r=t.touches[0];i={x:r.pageX*e.scaleX,y:r.pageY*e.scaleY},t.stopPropagation(),t.preventDefault()},!1),t.addEventListener("touchmove",function(t){var n=t.touches[0];r={x:n.pageX*e.scaleX,y:n.pageY*e.scaleY};var h=r.x-i.x;(h>10||h<-10)&&(a&&(s=!(h>10)),a=!1),a||(s?e.dragNextPage(r.x-e.width):e.dragPrePage(r.x-e.width)),t.stopPropagation(),t.preventDefault()},!1),t.addEventListener("touchend",function(t){var h=t.changedTouches[0];n={x:h.pageX*e.scaleX,y:h.pageY*e.scaleY};var o=h.pageX*e.scaleX;if(a)o>.66*e.width?e.drawNextPage():o<e.width/3&&e.drawPrePage();else{var u=e.currentTextArt,g=o-e.width;s?o>e.width/2?(u.movePage(1),e.drawPrePage(g)):e.drawNextPage(g):o>e.width/2?e.drawPrePage(g):(u.movePage(-1),e.drawNextPage(g))}t.stopPropagation(),t.preventDefault(),a=!0,i={},r={},n={}},!1)}});t.exports=h},function(t,e,i){"use strict";var r=i(5),n=i(7),a=n.extend({ctx:null,canvas:null,fontSize:18,lineHeight:20,fontFamilay:"arial",domWidth:0,domHeight:0,width:0,height:0,scaleX:1,scaleY:1,scale:1,currentTextArt:null,bufferCanvas:null,bctx:null,bg:null,bgBox:null,rect:{},ctor:function(t,e){this.init(t,e)},init:function(t,e){this.canvas=t[0],this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.domWidth=t.width(),this.domHeight=t.height(),this.scaleX=this.width/this.domWidth,this.scaleY=this.height/this.domHeight,this.initBufferCanvas(),this.initSetting(e),r.init(this)},initSetting:function(t){this.setFont(t.fontSize,t.family,t.fontColor);var e=t.bgUrl;this.scale=t.scale||1,this.lineHeight=t.lineHeight||20,this.rect=t.rect,this.initBg(e)},initBg:function(t){if(t){var e=$('<img src="'+t+'"/>'),i=this;e.on("load",function(){var t=i.bg=e[0],r=t.width,n=t.height,a=i.width,s=i.height,h=r/a*s,o=0,u=0;h<n?(u=h,o=r):(u=n,o=n/s*a),i.bgBox={x:0,y:0,width:o,height:u},i.drawCurrentPage()})}},initBufferCanvas:function(){var t=$("<canvas></canvas>");this.bufferCanvas=t[0],t.attr("width",this.width),t.attr("height",this.height);var e=this.bctx=this.bufferCanvas.getContext("2d");e.moveTo(0,0),e.lineTo(0,this.height),e.lineTo(this.width,this.height),e.lineTo(this.width,0),e.lineTo(0,0),e.clip()},setFont:function(t,e,i){var r=this.bctx;this.fontSize=t||18,this.fontFamilay=e||this.fontFamilay||"arial",r.fillStyle=i||r.fillStyle||"#000",r.font=this.fontSize+"px "+this.fontFamilay},drawArt:function(t){this.currentTextArt=t,this.drawCurrentPage()},drawCurrentPage:function(){var t=this.currentTextArt;if(t){var e=t.getCurrentPage();null!=e&&this.drawPage(e)}},drawNextPage:function(){var t=this.currentTextArt,e=t.getNextPage();null!=e&&this.drawPage(e)},drawPrePage:function(){var t=this.currentTextArt,e=t.getPrePage();null!=e&&this.drawPage(e)},drawPage:function(t,e){e||(e=0);var i=this.bctx;i.save(),i.translate(e,0),this.clearDisk();for(var r=t.getTextLines(),n=0;n<r.length;n++){var a=r[n];this.drawTextLine(a)}i.restore(),this.repaint()},drawTextLine:function(t){var e=t.text,i=t.x,r=t.y;this.drawText(e,i,r)},clearDisk:function(){var t=this.bctx;if(t.save(),t.fillStyle="#ffffff",t.fillRect(0,0,this.width,this.height),this.bg){t.globalAlpha=.7;var e=this.bgBox.x,i=this.bgBox.y,r=this.bgBox.width,n=this.bgBox.height;t.drawImage(this.bg,e,i,r,n,0,0,this.width,this.height)}t.restore()},drawText:function(t,e,i){var r=this.bctx;r.save(),r.fillText(t,e,i),r.restore()},repaint:function(){var t=this.ctx,e=this.bufferCanvas;t.drawImage(e,0,0)}});t.exports=a},function(t,e,i){"use strict";var r=i(6),n=i(8),a=i(9),s={width:0,height:0,lineHeight:0,fontSize:0,ctx:null,rect:{top:0,left:0,right:0,bottom:0},init:function(t){this.width=t.width,this.height=t.height,this.fontSize=t.fontSize||1,this.lineHeight=t.lineHeight,this.rect=t.rect||this.rect,this.ctx=t.bctx},splitArt:function(t,e){t=this.replace(t);for(var i=new r(t,e),n=t;n.length>0;)n=this.splitPage(i,n);return i},replace:function(t){return t.replace(/<br\/>/g,"\n")},splitPage:function(t,e){for(var i=this.rect,r=this.height-i.top-i.bottom,a=this.lineHeight,s=Math.floor(r/a),h=new n,o=0;o<s&&(e=this.splitLine(h,e),!(e<=0));o++);return t.addTextPage(h),e},splitLine:function(t,e){var i=this.rect,r=this.width-i.left-i.right,n=this.fontSize,s=this.ctx,h=Math.floor(r/n),o="",u=e.indexOf("\n");if(u>=0&&u<h)o=e.substring(0,u+1),e=e.substring(u+1,e.length);else for(;;){if(!(h+1<e.length)){o=e,e="";break}o=e.substring(0,h+1);var g=s.measureText(o).width,c=o.substring(h,h+1);if("\n"==c){o=e.substring(0,h+1),e=e.substring(h+1,e.length);break}if(g>r){o=e.substring(0,h),e=e.substring(h,e.length);break}h++}var i=this.rect,l=new a(o,this.lineHeight,i.left,i.top);return t.addTextLine(l),e}};t.exports=s},function(t,e,i){"use strict";var r=i(7),n=r.extend({textPages:null,allText:"",currentPage:0,artIndex:0,ctor:function(t,e){this.allText=t,this.textPages=[],this.artIndex=e},getArtIndex:function(){return this.artIndex},size:function(){return this.textPages.length},getPageList:function(){return this.textPages},addTextPage:function(t){t.setPage(this.textPages.length),this.textPages.push(t)},getCurrentPage:function(){return this.getTextPage(this.currentPage)},getNextPage:function(){var t=this.currentPage+1;return t>=this.textPages.length?null:this.getTextPage(t)},getPrePage:function(){var t=this.currentPage-1;return t<0?null:this.getTextPage(t)},movePage:function(t){this.currentPage=this.currentPage+t,this.currentPage<0&&(this.currentPage=0),this.currentPage>=this.textPages.length&&(this.currentPage=this.textPages.length-1)},getTextPage:function(t){return t<0&&(t=0),t>=this.textPages.length&&(t=this.textPages.length-1),this.textPages[t]}});t.exports=n},function(t,e){var i=function(){},r=/\b_super\b/;i.extend=function(t){function e(){this.ctor&&this.ctor.apply(this,arguments)}var n=this.prototype,a=Object.create(n),s={writable:!0,enumerable:!1,configurable:!0};e.prototype=a;for(var h=0,o=arguments.length;h<o;++h){var u=arguments[h];for(var g in u){var c="function"==typeof u[g],l="function"==typeof n[g],P=r.test(u[g]);c&&l&&P?(s.value=function(t,e){return function(){var i=this._super;this._super=n[t];var r=e.apply(this,arguments);return this._super=i,r}}(g,u[g]),Object.defineProperty(a,g,s)):c?(s.value=u[g],Object.defineProperty(a,g,s)):a[g]=u[g]}}return e.extend=i.extend,e},t.exports=i},function(t,e,i){"use strict";var r=i(7),n=r.extend({textLines:null,pageIndex:0,ctor:function(){this.textLines=[]},addTextLine:function(t){t.setLine(this.textLines.length),this.textLines.push(t)},setPage:function(t){this.pageIndex=t},getTextLines:function(){return this.textLines},getTextLine:function(t){return t<0&&(t=0),t>=this.textLines.length&&(t=this.textLines.length-1),this.textLines[t]}});t.exports=n},function(t,e,i){"use strict";var r=i(7),n=r.extend({x:0,y:0,lineHeight:0,text:"",top:0,ctor:function(t,e,i,r){this.text=t,this.lineHeight=e,this.x=i,this.top=r},setLine:function(t){this.y=(t+1)*this.lineHeight+this.top}});t.exports=n},function(t,e,i){"use strict";var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),n=i(4),a=i(11),s=n.extend({turnLock:!1,init:function(t,e){this._super(t,e),this.initListener()},drawPrePageByPoint:function(t,e,i){var r=t.y;r>this.height/2?this.drawPrePageBottomPoint(t,e,i):this.drawPrePageUpPoint(t,e,i)},drawPrePageUpPoint:function(t){},drawPrePageBottomPoint:function(t,e,i){var r=a.p(this.width,0),n=a.p(0,this.height),s=a.p(this.width,this.height),h=a.giveMeDisPP(n,t);h>this.width-80&&(t=a.giveMePByPPK(n,t,(this.width-80)/h));var o=a.giveMePByPPK(s,t,.5),u=a.giveMePByPPK(t,o,.5),g=a.createLineFunByPP(t,s),c=g.B/g.A,l=a.createLineFunByPK(o,c),P=a.createLineFunByPK(u,c),d=a.createLineFunByPP(s,r),x=a.giveMeLLP(d,l),f=a.createLineFunByPP(n,s),v=a.giveMeLLP(f,l),w=a.giveMeLLP(P,d),b=a.createLineFunByPP(t,x),p=a.giveMeLLP(P,b),y=a.giveMeLLP(P,f),T=a.createLineFunByPP(t,v),A=a.giveMeLLP(P,T),m=a.giveMeQuadraticPByT(w,x,p,.5),L=a.giveMeQuadraticPByT(y,v,A,.5);this.clearDisk(),this.drawUpPage(t,y,v,A,L,w,p,x,m,e),this.drawDownPage(t,y,v,A,L,w,p,x,m,i),this.drawbgPage(t,y,v,A,L,w,p,x,m)},drawUpPage:function(t,e,i,r,n,a,s,h,o,u){var g=this.bctx;g.save(),g.beginPath(),g.moveTo(0,0),g.lineTo(this.width,0),g.lineTo(a.x,a.y),g.quadraticCurveTo(h.x,h.y,s.x,s.y),g.lineTo(t.x,t.y),g.lineTo(r.x,r.y),g.quadraticCurveTo(i.x,i.y,e.x,e.y),g.lineTo(0,this.height),g.closePath(),g.clip(),this.drawPage(u),g.restore(),this.repaint()},drawDownPage:function(t,e,i,r,n,a,s,h,o,u){var g=this.bctx;g.save(),g.beginPath(),g.moveTo(a.x,a.y),g.quadraticCurveTo(h.x,h.y,s.x,s.y),g.moveTo(o.x,o.y),g.lineTo(n.x,n.y),g.moveTo(r.x,r.y),g.quadraticCurveTo(i.x,i.y,e.x,e.y),g.lineTo(this.width,this.height),g.lineTo(a.x,a.y),g.moveTo(a.x,a.y),g.closePath(),g.clip(),g.beginPath(),g.moveTo(n.x,n.y),g.lineTo(e.x,e.y),g.lineTo(this.width,this.height),g.lineTo(a.x,a.y),g.lineTo(o.x,o.y),g.closePath(),g.clip();this.currentTextArt;this.drawPage(u),g.beginPath(),g.moveTo(a.x,a.y),g.lineTo(o.x,o.y),g.lineTo(n.x,n.y),g.lineTo(e.x,e.y),g.lineTo(t.x,t.y),g.closePath(),g.fillStyle="rgba(0, 0, 0,0.8)",g.shadowOffsetX=15,g.shadowOffsetY=15,g.shadowBlur=14,g.shadowColor="rgba(0, 0, 0, 0.5)",g.fill(),g.restore(),this.repaint()},drawbgPage:function(t,e,i,r,n,s,h,o,u){var g=this.bctx;g.save(),g.beginPath(),g.moveTo(s.x,s.y),g.quadraticCurveTo(o.x,o.y,h.x,h.y),g.lineTo(t.x,t.y),g.lineTo(r.x,r.y),g.quadraticCurveTo(i.x,i.y,e.x,e.y),g.lineTo(this.width,this.height),g.lineTo(s.x,s.y),g.moveTo(s.x,s.y),g.closePath(),g.clip(),g.beginPath(),g.moveTo(n.x,n.y),g.lineTo(u.x,u.y),g.lineTo(0,0),g.lineTo(0,this.height),g.closePath(),g.clip();var c=a.giveMePByPPK(a.p(this.width,this.height),t,.5),l=g.createLinearGradient(t.x,t.y,c.x,c.y);l.addColorStop(0,"#999999"),l.addColorStop(.4,"#aaaaaa"),l.addColorStop(.6,"#dddddd"),l.addColorStop(1,"#666666"),g.fillStyle=l,g.globalAlpha=.7,g.fill(),g.restore(),this.repaint()},drawCurrentPage:function(t){var e=this.currentTextArt;if(e){var i=e.getCurrentPage();null!=i&&(t||this.clearDisk(),this.drawPage(i))}},drawPage:function(t){for(var e=(this.bctx,t.getTextLines()),i=0;i<e.length;i++){var r=e[i];this.drawTextLine(r)}this.repaint()},dragNextPage:function(t){var e=this.currentTextArt,i=e.getCurrentPage(),r=e.getNextPage();null!=r&&this.drawPrePageBottomPoint(t,i,r)},dragPrePage:function(t){var e=this.currentTextArt,i=e.getCurrentPage(),r=e.getPrePage();null!=r&&this.drawPrePageBottomPoint(t,r,i)},drawNextPage:function(t){if(!this.turnLock){var e=this.currentTextArt,i=e.getCurrentPage(),r=e.getNextPage();i==r?this.drawPage(r):null!=r&&this.startEmulateTurnPage(i,r,!0,t)}},drawPrePage:function(t){if(!this.turnLock){var e=this.currentTextArt,i=e.getCurrentPage(),r=e.getPrePage();i==r?this.drawPage(r):null!=r&&this.startEmulateTurnPage(r,i,!1,t)}},startEmulateTurnPage:function(t,e,i,r){if(!this.turnLock)if(this.turnLock=!0,i){var n=a.createTweenFun(r,a.p(-this.width,this.height),120);this.turnPage(t,e,i,n)}else{var n=a.createTweenFun(r,a.p(this.width,this.height),120);this.turnPage(t,e,i,n)}},turnPage:function(t,e,i,n){var a=n();if(null==a){var s=this.currentTextArt;i?s.movePage(1):s.movePage(-1),this.turnLock=!1,this.drawCurrentPage()}else{this.drawPrePageBottomPoint(a,t,e);var h=this;r(function(){h.turnPage(t,e,i,n)})}},initListener:function(){var t=this.canvas,e=this,i={},r={},n={},a=!0,s=!0;t.addEventListener("touchstart",function(t){var r=t.touches[0];i={x:r.pageX*e.scaleX,y:r.pageY*e.scaleY},t.stopPropagation(),t.preventDefault()},!1),t.addEventListener("touchmove",function(t){var n=t.touches[0];r={x:n.pageX*e.scaleX,y:n.pageY*e.scaleY};var h=r.x-i.x;(h>10||h<-10)&&(a&&(s=!(h>10)),a=!1),a||(s?e.dragNextPage(r):e.dragPrePage(r)),t.stopPropagation(),t.preventDefault()},!1),t.addEventListener("touchend",function(t){var h=t.changedTouches[0];n={x:h.pageX*e.scaleX,y:h.pageY*e.scaleY};var o=h.pageX*e.scaleX;if(a)o>.66*e.width?e.drawNextPage(n):o<e.width/3&&e.drawPrePage(n);else{var u=e.currentTextArt;o-e.width;s?o>e.width/2?(u.movePage(1),e.drawPrePage(n)):e.drawNextPage(n):o>e.width/2?e.drawPrePage(n):(u.movePage(-1),e.drawNextPage(n))}t.stopPropagation(),t.preventDefault(),a=!0,i={},r={},n={}},!1)}});t.exports=s},function(t,e){"use strict";var i={createLineFunByPP:function(t,e){var i=t.x,r=t.y,n=e.x,a=e.y;return{A:a-r,B:i-n,C:n*r-i*a}},createLineFunByPK:function(t,e){var i=t.x,r=t.y,n=e;return{A:n,B:-1,C:r-n*i}},giveMeLLP:function(t,e){var i=t.A,r=t.B,n=t.C,a=e.A,s=e.B,h=e.C;return i*s==a*r?null:this.p((r*h-s*n)/(i*s-a*r),(a*n-i*h)/(i*s-a*r))},giveMeQuadraticPByT:function(t,e,i,r){var n=(1-r)*(1-r),a=2*r*(1-r),s=r*r;return this.p(t.x*n+e.x*a+i.x*s,t.y*n+e.y*a+i.y*s)},giveMeDisPP:function(t,e){var i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)},giveMePByPPK:function(t,e,i){var r=i/(1-i),n=t.x,a=e.x,s=t.y,h=e.y;return this.p((n+r*a)/(1+r),(s+r*h)/(1+r))},giveMeMidPByPPP:function(t,e,i){return this.p((t.x+e.x+i.x)/3,(t.y+e.y+i.y)/3)},createTweenFun:function(t,e,i){var r=0,n=i/this.giveMeDisPP(t,e),a=this;return function(){var s=a.giveMePByPPK(t,e,n*r++);return a.giveMeDisPP(e,s)<i?null:s}},p:function(t,e){return{x:t,y:e}}};t.exports=i},function(t,e,i){"use strict";var r=i(5),n=i(6),a=n.extend({needArtByIndex:null,initIndex:0,preArt:null,currentArt:null,nextArt:null,initReady:null,ctor:function(t){this.needArtByIndex=t.needArtByIndex,this.initIndex=t.initIndex,this.initReady=t.initReady,this.init()},init:function(){if(this.textPages=[],!this.needArtByIndex)throw"needArtByIndx function is undefined ！";var t=this.initIndex,e=this;this.needArtByIndex(this.initIndex,function(i){var n=r.splitArt(i,t);e.currentArt=n,e.pushAllPageIn(n),e.getNextArt(n),e.getPreArt(n),e.initReady&&e.initReady()})},getNextArt:function(t){var e=this,i=t.getArtIndex();console.log("请求第"+(i+1)+"页数据"),this.nextArt=null,this.needArtByIndex(i+1,function(t){if(null==e.nextArt){var n=r.splitArt(t,i+1);e.nextArt=n,e.pushAllPageIn(n)}})},getPreArt:function(t){var e=this,i=t.getArtIndex();console.log("请求第"+(i-1)+"页数据"),this.preArt=null,this.needArtByIndex(i-1,function(t){if(null==e.preArt){var n=r.splitArt(t,i-1);e.preArt=n,e.pushAllPageIn(n,!0)}})},pushAllPageIn:function(t,e){var i=this.textPages,r=t.getPageList();if(e){for(var n=r.length-1;n>=0;n--)i.unshift(r[n]);this.currentPage+=r.length}else for(var n=0;n<r.length;n++)i.push(r[n])},removeFirstArtPage:function(){var t=this.preArt;if(null!=t){for(var e=0;e<t.size();e++)this.textPages.shift();this.currentPage=this.currentPage-t.size()}},removeLastArtPage:function(){var t=this.nextArt;if(null!=t)for(var e=0;e<t.size();e++)this.textPages.pop()},movePage:function(t){this.currentPage;this._super(t);var e=this.currentPage;if(null!=this.preArt)var i=this.preArt.size();else var i=0;var r=this.currentArt.size(),n=r+i;e<i?this.preparedPreArt():e>=n&&this.preparedNextArt()},preparedPreArt:function(){var t=this.preArt;null==t||0==t.size()||(this.removeLastArtPage(),this.nextArt=this.currentArt,this.currentArt=this.preArt),this.getPreArt(this.currentArt)},preparedNextArt:function(){var t=this.nextArt;null==t||0==t.size()||(this.removeFirstArtPage(),this.preArt=this.currentArt,this.currentArt=this.nextArt),this.getNextArt(this.currentArt)}});t.exports=a}]);