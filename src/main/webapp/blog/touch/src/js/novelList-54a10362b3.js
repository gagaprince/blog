!function(e){function i(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}var t={};i.m=e,i.c=t,i.p="",i(0)}({0:function(e,i,t){"use strict";t(24)},4:function(e,i){"use strict";var t={novelHistory:null,_api:function(e,i,t){$.ajax({url:e,data:i,type:"POST",dataType:"json",timeout:1e5,success:function(e){"string"==typeof e&&(e=JSON.parse(e)),console.log(e);var i=e.status;t&&t(i&&i.code,i&&i.des,e.data,e)}})},giveMeNovelListAll:function(e){this._api("/blog/pl/nv/novelListAll",{},function(i,t,n,o){0==i&&e&&e(n)})},giveMeNovelListPage:function(e,i){this._api("/blog/pl/nv/novelListPage",{pno:e,psize:20},function(e,t,n,o){0==e&&i&&i(n)})},giveMeNovelCateListPage:function(e,i,t){this._api("/blog/pl/nv/novelCateListPage",{pno:e,psize:20,cate:i},function(e,i,n,o){0==e&&t&&t(n)})},giveMeNovelIndexListPage:function(e,i,t){this._api("/blog/pl/nv/novelIndexListPage",{novelId:e,pno:i,psize:20},function(e,i,n,o){0==e&&t&&t(n)})},giveMeNovelListByKey:function(e,i,t){t&&this._api("/blog/pl/nv/novelSearchListPage",{pno:e,psize:20,key:i},function(e,i,n,o){0==e&&t&&t(n)})},giveMeNovelByIdAndChapter:function(e,i,n){t._api("/blog/pl/nv/getNovelContent",{novelId:e,chapter:i},function(e,i,t,o){0==e&&n&&n(t)})},giveMeRandomBooks:function(e,i){t._api("/blog/pl/nv/novelRandomBooks",{num:e},function(e,t,n,o){0==e&&i&&i(n)})},giveMeNovelById:function(e,i){i&&t._api("/blog/pl/nv/novelById",{id:e},function(e,t,n,o){0==e&&i(n)})},giveMeNovelsByIds:function(e,i){i&&t._api("/blog/pl/nv/novelByIds",{ids:e},function(e,t,n,o){0==e&&i(n)})},giveMeNovelAllById:function(e,i){i&&t._api("/blog/pl/nv/novelById",{id:e,needAll:1},function(e,t,n,o){0==e&&i(n)})},giveMeRecommendData:function(e){e&&t._api("/blog/pl/nv/recommendPage",{},function(i,t,n,o){0==i&&e(n)})},getQueryString:function(e,i){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=i||window.location.search.substr(1),o=n.match(t);return null!=o?decodeURIComponent(o[2]):null},initLocal:function(){this.novelHistory||(this.novelHistory=localStorage.getItem("blog_touch_novel_history"),this.novelHistory?this.novelHistory=JSON.parse(this.novelHistory):this.novelHistory={})},saveLocal:function(e,i,t){this.initLocal(),this.novelHistory[e]=[i,t],localStorage.setItem("blog_touch_novel_history",JSON.stringify(this.novelHistory))},getLocal:function(e){return this.initLocal(),this.novelHistory[e]},clone:function(e){var i={};for(var t in e){var n=e[t];"object"==typeof n&&(n=this.clone(n)),i[t]=n}return i}};e.exports=t},19:function(e,i,t){"use strict";var n=t(20),o={init:function(){var e=n({});$("body").append(e)},show:function(){$(".loading-frame").show()},hide:function(){$(".loading-frame").hide()}};e.exports=o},20:function(e,i){e.exports=function(e){return'<div class="loading-frame h-c" style="display:none;"> <div class="search-load h-c"> <div class="my-dot"></div> <div class="my-dot"></div> <div class="my-dot"></div> </div></div>'}},24:function(e,i,t){"use strict";var n=t(4),o=t(25),s=t(19),l=null,a={currentPage:0,cate:null,type:"cate",key:"",init:function(){s.init(),this.initPage(),this.initListener()},initPage:function(){this.type=n.getQueryString("type")||this.type,"search"==this.type?(this.key=n.getQueryString("key"),this.key&&($(".title").html(this.key),$("title").html(this.key),$("#novelList").html(""),this.renderPage())):(this.cate=n.getQueryString("cate")||"玄幻小说",$(".title").html(this.cate),$("title").html(this.cate),$("#novelList").html(""),this.renderPage())},renderPage:function(){s.show();var e=this,i=this.currentPage;if("search"==this.type){var t=this.key;n.giveMeNovelListByKey(i,t,function(i){var t=i.novelList,n=o(t);$("#novelList").append(n),e.currentPage++,s.hide()})}else{var l=this.cate;n.giveMeNovelCateListPage(i,l,function(i){var t=i.novelList,n=o(t);$("#novelList").append(n),e.currentPage++,s.hide()})}},initListener:function(){var e=this;$("body").on("click",".backFrame",function(){history.back()}),$("body").on("click",".novel-item",function(){var e=$(this).attr("novelId");window.location.href="detail.html?novelId="+e}),$(window).scroll(function(){$(window).scrollTop()>=$(document).height()-$(window).height()&&(l&&(clearTimeout(l),l=null),l=setTimeout(function(){e.renderPage()},300))})}};$(document).ready(function(){a.init()})},25:function(e,i){e.exports=function(e){var i="",t=e,n=t;if(n)for(var o,s=-1,l=n.length-1;s<l;){o=n[s+=1],i+='<div class="item h-l-u novel-item" novelId="'+o.id+'" link="'+o.sourceUrl+'" onclick=""> <div class="cover"> <img src="http://www.37zw.com'+o.cover+'" alt=""/> </div> <div class="desc-frame"> <div class="info h-l"> <div class="name h-c">'+o.name+'</div> <div class="author h-c">'+o.author+"</div> </div> ";var a=o.descripe.replace(/\w/g,"");a&&a.length>45&&(o.descripe=a.substr(0,45)+"..."),i+=' <div class="desc">'+(o.descripe||"")+'</div> </div> <div class="arrow-frame"> <div class="arrow"> <div class="bg-frame"></div> <div class="front-frame"></div> </div> </div></div>'}return i}}});