!function(t){function o(n){if(i[n])return i[n].exports;var e=i[n]={exports:{},id:n,loaded:!1};return t[n].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}var i={};return o.m=t,o.c=i,o.p="",o(0)}([function(t,o,i){i(1)},function(t,o,i){"use strict";var n=i(2),e=i(3),s=i(5),r=6,a={init:function(){this.initPage(),this.initListener()},initPage:function(){var t=this;this.initBookList(function(o){t.renderPage(t.cloneNovelList(o))})},initListener:function(){$("body").on("click",".bookItem",function(){var t=$(this).attr("novelId");window.location.href="read.html?novelId="+t}),$("body").on("click",".bookAddBtn",function(){})},initBookList:function(t){if(t){var o=e.getBookList();o&&o.length?t(o):n.giveMeRandomBooks(r,function(o){t(o),e.saveBookList(o)})}},renderPage:function(t){var o=s(t);$("#bookshelfFrame").html(o)},_filterNovelList:function(t){if(t)for(var o=0;o<t.length;o++){t[o]}},cloneNovelList:function(t){for(var o=[],i=0;i<t.length;i++){var e=t[i],s=n.clone(e);o.push(s)}return o}};$(document).ready(function(){a.init()})},function(t,o){"use strict";var i="/blog/pl/nv/novelListAll",n="/blog/pl/nv/novelListPage",e="/blog/pl/nv/getNovelContent",s="/blog/pl/nv/novelIndexListPage",r="/blog/pl/nv/novelRandomBooks",a="/blog/pl/nv/novelById",c="blog_touch_novel_history",l={novelHistory:null,_api:function(t,o,i){$.ajax({url:t,data:o,type:"POST",dataType:"json",timeout:3e4,success:function(t){"string"==typeof t&&(t=JSON.parse(t)),console.log(t);var o=t.status;i&&i(o.code,o.des,t.data,t)}})},giveMeNovelListAll:function(t){this._api(i,{},function(o,i,n,e){0==o&&t&&t(n)})},giveMeNovelListPage:function(t,o){this._api(n,{pno:t,psize:20},function(t,i,n,e){0==t&&o&&o(n)})},giveMeNovelIndexListPage:function(t,o,i){this._api(s,{novelId:t,pno:o,psize:20},function(t,o,n,e){0==t&&i&&i(n)})},giveMeNovelByIdAndChapter:function(t,o,i){l._api(e,{novelId:t,chapter:o},function(t,o,n,e){0==t&&i&&i(n)})},giveMeRandomBooks:function(t,o){l._api(r,{num:t},function(t,i,n,e){0==t&&o&&o(n)})},giveMeNovelById:function(t,o){o&&l._api(a,{id:t},function(t,i,n,e){0==t&&o(n)})},getQueryString:function(t,o){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=o||window.location.search.substr(1),e=n.match(i);return null!=e?decodeURIComponent(e[2]):null},initLocal:function(){this.novelHistory||(this.novelHistory=localStorage.getItem(c),this.novelHistory?this.novelHistory=JSON.parse(this.novelHistory):this.novelHistory={})},saveLocal:function(t,o,i){this.initLocal(),this.novelHistory[t]=[o,i],localStorage.setItem(c,JSON.stringify(this.novelHistory))},getLocal:function(t){return this.initLocal(),this.novelHistory[t]},clone:function(t){var o={};for(var i in t){var n=t[i];"object"==typeof n&&(n=this.clone(n)),o[i]=n}return o}};t.exports=l},function(t,o,i){"use strict";var n=i(4),e=i(2),s="blog_touch_book_list",r={getBookList:function(){var t=n.getItem(s);return t||(t=[]),t},saveBookList:function(t){t&&n.setItem(s,t)},addBook:function(t){if(t)if("string"==typeof t){var o=this;e.giveMeNovelById(t,function(t){o.addBook(t)})}else{var i=this.getBookList();this.isExistBookById(t,i)||(i.unshift(t),this.saveBookList(i))}},isExistBookById:function(t,o){var i=!1,n=t;"object"==typeof t&&(n=t.id),o||(o=this.getBookList());for(var e=0;e<o.length;e++){var t=o[e];if(t.id==n){i=!0;break}}return i},removeBookById:function(t){for(var o=this.getBookList(),i=0;i<o.length;i++){var n=o[i];if(n.id==t){o.splice(i,1);break}}this.saveBookList(o)},adjustTheFistBook:function(t){for(var o=this.getBookList(),i=0;i<o.length;i++){var n=o[i];if(n.id==t){var n=o.splice(i,1)[0];o.unshift(n);break}}this.saveBookList(o)},saveBookTag:function(t,o,i){var n=this.isExistBookById(t);n||this.addBook(t)}};t.exports=r},function(t,o){"use strict";var i=window.localStorage,n={setItem:function(t,o){if(o){var n=o;"object"==typeof o&&(n=JSON.stringify(o)),i.setItem(t,n)}},getItem:function(t){var o=i.getItem(t);return o&&(o=JSON.parse(o)),o}};t.exports=n},function(t,o){t.exports=function(t){var o="",i=t;i.push({tag:"jia"});var n=i;if(n)for(var e,s=-1,r=n.length-1;s<r;)e=n[s+=1],o+=" ",s%3==0&&(o+='<div class="bookshelf-item h-l"> '),o+=" ",o+="jia"!=e.tag?' <div class="book-frame h-c bookItem" novelId="'+e.id+'"> <div class="book"> <img src="'+(e.cover?"http://www.37zw.com"+e.cover:"http://www.37zw.com/d/image/3/3911/3911s.jpg")+'" alt=""/> </div> </div> ':' <div class="book-frame h-c bookAddBtn"> <div class="book h-c jia"> <img src="http://pic.sucaibar.com/pic/201307/16/311d33c37b.png" alt=""/> </div> </div> ',o+=" ",s%3==2&&(o+="</div> ");return(i.length-1)%3!=2&&(o+="</div>"),o}}]);