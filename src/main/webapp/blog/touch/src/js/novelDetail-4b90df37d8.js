!function(i){function t(o){if(e[o])return e[o].exports;var n=e[o]={exports:{},id:o,loaded:!1};return i[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var e={};return t.m=i,t.c=e,t.p="",t(0)}([function(i,t,e){e(8)},,function(i,t){"use strict";var e="/blog/pl/nv/novelListAll",o="/blog/pl/nv/novelListPage",n="/blog/pl/nv/novelCateListPage",s="/blog/pl/nv/getNovelContent",a="/blog/pl/nv/novelIndexListPage",v="/blog/pl/nv/novelRandomBooks",l="/blog/pl/nv/novelById",c="/blog/pl/nv/recommendPage",d="/blog/pl/nv/novelSearchListPage",r="blog_touch_novel_history",u={novelHistory:null,_api:function(i,t,e){$.ajax({url:i,data:t,type:"POST",dataType:"json",timeout:3e4,success:function(i){"string"==typeof i&&(i=JSON.parse(i)),console.log(i);var t=i.status;e&&e(t.code,t.des,i.data,i)}})},giveMeNovelListAll:function(i){this._api(e,{},function(t,e,o,n){0==t&&i&&i(o)})},giveMeNovelListPage:function(i,t){this._api(o,{pno:i,psize:20},function(i,e,o,n){0==i&&t&&t(o)})},giveMeNovelCateListPage:function(i,t,e){this._api(n,{pno:i,psize:20,cate:t},function(i,t,o,n){0==i&&e&&e(o)})},giveMeNovelIndexListPage:function(i,t,e){this._api(a,{novelId:i,pno:t,psize:20},function(i,t,o,n){0==i&&e&&e(o)})},giveMeNovelListByKey:function(i,t,e){e&&this._api(d,{pno:i,psize:20,key:t},function(i,t,o,n){0==i&&e&&e(o)})},giveMeNovelByIdAndChapter:function(i,t,e){u._api(s,{novelId:i,chapter:t},function(i,t,o,n){0==i&&e&&e(o)})},giveMeRandomBooks:function(i,t){u._api(v,{num:i},function(i,e,o,n){0==i&&t&&t(o)})},giveMeNovelById:function(i,t){t&&u._api(l,{id:i},function(i,e,o,n){0==i&&t(o)})},giveMeNovelAllById:function(i,t){t&&u._api(l,{id:i,needAll:1},function(i,e,o,n){0==i&&t(o)})},giveMeRecommendData:function(i){i&&u._api(c,{},function(t,e,o,n){0==t&&i(o)})},getQueryString:function(i,t){var e=new RegExp("(^|&)"+i+"=([^&]*)(&|$)","i"),o=t||window.location.search.substr(1),n=o.match(e);return null!=n?decodeURIComponent(n[2]):null},initLocal:function(){this.novelHistory||(this.novelHistory=localStorage.getItem(r),this.novelHistory?this.novelHistory=JSON.parse(this.novelHistory):this.novelHistory={})},saveLocal:function(i,t,e){this.initLocal(),this.novelHistory[i]=[t,e],localStorage.setItem(r,JSON.stringify(this.novelHistory))},getLocal:function(i){return this.initLocal(),this.novelHistory[i]},clone:function(i){var t={};for(var e in i){var o=i[e];"object"==typeof o&&(o=this.clone(o)),t[e]=o}return t}};i.exports=u},function(i,t,e){"use strict";var o=e(4),n=e(2),s="blog_touch_book_list",a="blog_touch_novel_history",v="blog_touch_novel_getinitbook",l={getBookList:function(){var i=o.getItem(s);return i||(i=[]),i},saveBookList:function(i){i&&o.setItem(s,i)},addBook:function(i){if(i)if("string"==typeof i){var t=this;n.giveMeNovelById(i,function(i){t.addBook(i)})}else{if(i.chapters){var e=n.clone(i);e.chapters=[],i=e}var o=this.getBookList();this.isExistBookById(i,o)?this.adjustTheFistBook(i.id):(o.unshift(i),this.saveBookList(o))}},isExistBookById:function(i,t){var e=!1,o=i;"object"==typeof i&&(o=i.id),t||(t=this.getBookList());for(var n=0;n<t.length;n++){var i=t[n];if(i.id==o){e=!0;break}}return e},removeBookById:function(i){for(var t=this.getBookList(),e=0;e<t.length;e++){var o=t[e];if(o.id==i){t.splice(e,1);break}}this.saveBookList(t),this.removeBookTag(i)},adjustTheFistBook:function(i){for(var t=this.getBookList(),e=0;e<t.length;e++){var o=t[e];if(o.id==i){var o=t.splice(e,1)[0];t.unshift(o);break}}this.saveBookList(t)},setHasGetInitBook:function(){o.setItem(v,1)},isHasGetInitBook:function(){return o.getItem(v)},saveBookTag:function(i,t,e){var n=this.isExistBookById(i);n||this.addBook(i);var s=[t,e];o.setItem(a+"_"+i,s)},getBookTag:function(i){var t=o.getItem(a+"_"+i);return t},removeBookTag:function(i){o.removeItem(a+"_"+i)}};i.exports=l},function(i,t){"use strict";var e=window.localStorage,o={setItem:function(i,t){if(e&&e.setItem&&t){var o=t;"object"==typeof t&&(o=JSON.stringify(t)),e.setItem(i,o)}},getItem:function(i){if(e&&e.getItem){var t=e.getItem(i);return t&&(t=JSON.parse(t)),t}return null},removeItem:function(i){e&&e.removeItem&&e.removeItem(i)}};i.exports=o},,,,function(i,t,e){var o=e(2),n=e(9),s=e(11),a=e(3),v={novelId:"",novelData:null,init:function(){n.init(),this.initPage(),this.initListener()},initPage:function(){var i=this;n.show(),this.initData(function(t){n.hide(),i.renderPage(t)})},initData:function(i){if(i){var t=this.novelId=o.getQueryString("novelId"),e=this;o.giveMeNovelAllById(t,function(t){e.novelData=t,i(t)})}},renderPage:function(i){console.log(i);var t=s(i);$("#detailPage").html(t).show(),$("img").error(function(){$(this).attr("src","http://www.37zw.com/d/image/3/3753/3753s.jpg")})},initListener:function(){var i=this;$("body").on("click","#readBtn",function(){a.addBook(i.novelData),window.location.href="read.html?novelId="+i.novelId}),$("body").on("click",".novel-index-item",function(){a.addBook(i.novelData);var t=$(this).attr("chapter");window.location.href="read.html?novelId="+i.novelId+"&chapter="+t})}};$(document).ready(function(){v.init()})},function(i,t,e){"use strict";var o=e(10),n={init:function(){var i=o({});$("body").append(i)},show:function(){$(".loading-frame").show()},hide:function(){$(".loading-frame").hide()}};i.exports=n},function(i,t){i.exports=function(i){var t='<div class="loading-frame h-c" style="display:none;"> <div class="search-load h-c"> <div class="my-dot"></div> <div class="my-dot"></div> <div class="my-dot"></div> </div></div>';return t}},function(i,t){i.exports=function(i){var t="",e=i,o=e.chapters;t+='<div class="header h-c"> <div class="backFrame"> <div class="back"> <div class="bg-frame"></div> <div class="front-frame"></div> </div> </div> <div class="title">'+e.name+'</div></div><div class="container"> <div class="info h-u"> <div class="left v-u"> <div class="imgframe"> <img src="http://www.37zw.com'+e.cover+'" alt=""/> </div> </div> <div class="right"> <div class="name">'+e.name+'</div> <div class="info-item h-l-u"> <div class="lb">作者：</div> <div class="lbv">'+e.author+'</div> </div> <div class="info-item h-l-u"> <div class="lb">分类：</div> <div class="lbv">'+e.cate+'</div> </div> <div class="info-item h-l-u"> <div class="lb">更新：</div> <div class="lbv">'+e.updateTime.split(" ")[0]+'</div> </div> <div class="info-item h-l-u"> <div class="lb">最新：</div> <div class="lbv">'+o[0].name+'</div> </div> </div> </div> <div class="read-btn-frame h-c"> <div class="read-btn h-c" id="readBtn" onclick="">开始阅读</div> </div> <div class="desc-frame"> <div class="desc-t h-c"> <div class="desc-title h-l">小说简介</div> </div> <div class="desc-info h-c"> <div class="desc"> '+e.descripe+' </div> </div> </div> <div class="novel-index-frame"> <div class="novel-index-t h-c"> <div class="novel-index-title h-l"> 目录 </div> </div> <div class="novel-index-list"> ';var n=o;if(n)for(var s,a=-1,v=n.length-1;a<v;)s=n[a+=1],t+=' <div class="novel-index-item h-c" onclick="" chapter="'+s.chapter+'"> <div class="novel-index-item-info h-l">'+s.name+"</div> </div> ";return t+=" </div> </div></div>"}}]);